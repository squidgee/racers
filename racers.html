<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="styles.css">
    <script src="tmi.js"></script>
    <script src="emotedata/emotedata.js"></script>

    <style>
    

    </style>
  </head>
  <body>
    <script>

      matchesinStrIMG = [];
      matchesinStrNAME = [];

      const unlistedRemovalRegex = /<a[^>]*>(?:(?!<\/a>)[\s\S])*title="Unlisted"[\s\S]*?<\/a>/g;

      const emotedataFileB = emotedataFile.replace(unlistedRemovalRegex, '');

      // 2. Run the original simple extraction on the now-clean data.
      // We no longer need the complex negative lookaheads for exclusion.
      const extractionRegex = /<a href="\/emotes\/([^"]+)".*?<span class="name svelte-clww9e">([^<]+)<\/span>/gs;

      const extractedArray = [];
      let match;

      while ((match = extractionRegex.exec(emotedataFileB)) !== null) {
          extractedArray.push({
              id: match[1],
              name: match[2]
          });
      }

      console.log(extractedArray);

      for (const item of extractedArray) {

          const emoteId = item.id;
          const emoteName = item.name;
          matchesinStrIMG.push(emoteId);
          matchesinStrNAME.push(emoteName);

      }
      console.log("matchesinStrIMG:", matchesinStrIMG);
      console.log("matchesinStrNAME:", matchesinStrNAME);
      console.log (matchesinStrIMG);
      console.log (matchesinStrNAME);

    </script>
    <script type="text/javascript" src="racers.js"></script>

  </body>

</html>
